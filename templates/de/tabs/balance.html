
<section ng-controller="BalanceCtrl" class="col-xs-12 content">
  <group ng-hide="connected" class="disconnected">
    <p class="literal">Sie müssen online sein um dieses Fenster zu sehen</p>
  </group>
  <group ng-hide="!connected || loadState.account" class="disconnected">
    <div id="section_loader"><img src="img/sections.png" class="loader"/>
      <div class="loading_sections">Bitte warten...</div>
    </div>
  </group>
  <group ng-hide="!connected || loadState.account" class="disconnected">
    <!--img(src="img/sections.png", class="loader", id="section_loader", ng-hide="exchangeRatesNonempty")-->
  </group>
  <div ng-show="!loadingAccount &amp;&amp; !account.Balance &amp;&amp; loadState.account &amp;&amp; connected">
    <div class="auth-attention banner">
      <h4>Willkommen bei Ripple Trade! Ihr Konto muss freigeschaltet werden. Sie können es auf 2 Arten freischalten:</h4>
      <ul>
        <li>Lassen Sie sich von einem anderen Nutzer XRP an Ihren Ripple-Namen (~{{userCredentials.username}}) senden.&#32<a href="https://ripple.com/knowledge_center/activating-your-wallet/" target="_blank">Suggestions for getting XRP.&#32</a></li>
        <li><a href="#/btc">Deposit BTC (only the btc2ripple option works for activating accounts).</a></li>
      </ul>
    </div>
  </div>
  <div ng-show="hasRTJapanTrust">
    <div class="warning-attention banner">
      <h4>警告</h4>
      <p>
        リップルトレードジャパンをゲイトウェイとして使用しないことをお勧めします。
        最近の出来事から判断しまして、リップルトレードジャパンを使用すると、資金が失われる可能性があります。
      </p>
    </div>
  </div>
  <div ng-show="hasRTJapanTrustWithRippling">
    <div class="warning-attention banner">
      <h4>警告</h4>
      <p>
        資金を保護するために、リップルトレードジャパンへのリップリングを無効にすることをお勧めします。
        無効化するには<a href="#/advanced">設定 &#62; 詳細</a>をクリックし、与信限度額の「Advanced Settings」が「表示」になっていることを確認して下さい。その後、<a href="#/trust">資金 &#62; ゲイトウェイ</a>ページで、リップルトレードジャパン(rMAz5ZnK73nyNUL4foAvaxdreczCkG3vA6)との Rippling がオフになっていることをご確認下さい。
      </p>
    </div>
  </div>
  <group ng-show="connected &amp;&amp; loadState.account">
    <div ng-show="showTerms" class="auth-attention banner">
      <h4 id="announcement">	<strong>NOTICE:</strong> You are now a registered customer of Ripple Trade. We would like all customers of Ripple Trade to be aware and understand the following disclosures prior to conducting any transactions across the Ripple network:<br/><br/>a) Virtual Currency is not legal tender, is not backed by the government, and accounts and value balances are not subject to FDIC or SIPC protections.<br/><br/>b) Legislative and regulatory changes or actions at the state, federal, or international level may adversely affect the use, transfer, exchange, and value of Virtual Currency.<br/><br/>c) Transactions in Virtual Currency are generally irreversible, and, accordingly, losses due to fraudulent or accidental transactions may not be recoverable.<br/><br/>d) All Virtual Currency transactions issued on Ripple Trade shall be deemed to be made when recorded on the public ledger, which is posted seconds after you initiate the transaction.<br/><br/>e) The value of Virtual Currency is derived from the continued willingness of market participants to exchange Fiat Currency for Virtual Currency, which may result in the potential for permanent and total loss of value for a particular Virtual Currency should the market for that Virtual Currency disappear.<br/><br/>f) There is no assurance that a person who accepts a Virtual Currency as payment today will continue to do so in the future.<br/><br/>g) The volatility and unpredictability of the price of Virtual Currency relative to Fiat Currency may result in significant loss or tax liability over a short period of time.<br/><br/>h) The nature of Virtual Currency may lead to an increased risk of fraud or cyber-attack.<br/><br/>i) The nature of Virtual Currency means that any technological difficulties experienced by Ripple Trade LLC may prevent the access or use of your Virtual Currency holdings.<br/><br/>j) Any bond or trust account for the benefit of customers may not be sufficient to cover any and all losses incurred by customers.<br/><br/>k) As a customer of Ripple Trade, you are liable for any unauthorized Virtual Currency transactions<br/><br/>l) You have the right to stop payment of a preauthorized Virtual Currency transfer and the procedure to initiate such a stop-payment order. <br/><br/>m) Ripple Trade LLC is liable to you, as a customer of Ripple Trade, under any applicable local, state, or federal law, rule, or regulation.<br/><br/>n) Ripple Trade LLC will not disclose information regarding a customer’s account to third parties without explicit customer consent.<br/><br/>o) You have the right to download statements of your Ripple Trade account activity at any time. This information is provided 24/7/365 on each user’s Ripple Trade history page.<br/><br/>p) You have the right to receive a receipt, trade ticket, or other evidence of a transaction (the History page of Ripple Trade).<br/><br/>q) You have the right to prior notice of a change in Ripple Trade’s rules or policies.</h4><a id="hide" href="" ng-click="dismissBanner()" class="dismiss"> ×</a><br/>
    </div>
    <div ng-show="showAnnouncement" class="auth-attention banner">
      <h4 id="announcement">	<strong>NOTICE:</strong> Ripple Trade encourages customer identification but it is optional until October 30, 2015. Existing users have through October 30, 2015 to verify their identity details in order to access Ripple Trade. <strong>Users who have submitted required documents can still use Ripple Trade and access funds while we review your information.</strong> For more information, please visit the<a href="https://ripple.com/knowledge_center/ripple-trade-launches-identity-verification" target="_blank" l10n-inc="l10n-inc"> Knowledge Center.</a><br/><br/>リップルトレードでは、セキュリティー強化の為、本人確認を推奨致します(ただし、２０１５年10月３０日までは、必須ではありません)。 既存のユーザー様は、リップルトレードを引き続きご利用されるためには、*10月３０日までに個人情報を登録していただきます。<strong>必要書類をご提出頂きました方は、こちらで本人書類確認をしている間も引き続きRipple Tradeをご利用頂けます。</strong> 詳細は<a href="https://ripple.com/knowledge_center/ripple-trade-launches-identity-verification" target="_blank" l10n-inc="l10n-inc"> ノレッジセンター</a> に記載されております。<br/><br/>Ripple Trade 실명제 도입으로. 기존회원님들께선 2015년 10월 30일까지 실명확인을 해주셔야 합니다. <strong>필요한 서류를 제출 한 사용자는 여전히 리플 무역 및 액세스 자금을 사용할 수 있습니다. 우리는 귀하의 정보를 검토 할 것.</strong> 자세한 내용은<a href="https://ripple.com/knowledge_center/ripple-trade-launches-identity-verification" target="_blank" l10n-inc="l10n-inc"> 지식센터</a> 에서 확인하여 주시기 바랍니다.<br/><br/>尊敬的Ripple Trade用户，届时2015年10月30日起，所有用户将必须通过实名身份验证，否则将无法继续使用Ripple Trade账户。在我们审核您信息的同时，您仍可以使用<strong>Ripple Trade</strong>以及您的资金账户。</h4>
      <!--a.dismiss#hide(href="", ng-click="dismissBanner()")  ×--><br/>
    </div>
    <div class="widgets row">
      <div class="col-xs-12 col-sm-4">
        <div ng-hide="!loadingAccount &amp;&amp; !account.Balance &amp;&amp; loadState.account" class="widget widget-networth">
          <h4 ng-click="showWidgetNetworth=!showWidgetNetworth" ng-init="showWidgetNetworth=true"><span>Nettowert</span><i ng-class="{'closed': !showWidgetNetworth}" class="fa fa-fw fa-caret-down"></i></h4>
          <div rp-slide="showWidgetNetworth">
            <div ng-class="{'blank': !exchangeRatesNonempty}">
              <div ng-hide="valueMetrics.length &lt; 2" class="row">
                <div l10n-inc="l10n-inc" class="col-xs-1"><span l10n-inc="l10n-inc" class="desc">In</span></div>
                <div class="col-xs-7 col-sm-6 col-md-5">
                  <input type="text" rp-combobox="valueMetrics" rp-combobox-select="rp-combobox-select" rp-combobox-small="rp-combobox-small" ng-model="selectedValueMetric" ng-change="changeMetric(this)" class="form-control"/>
                </div>
              </div>
              <div class="desc">Geschätzt vom neuesten Handelspreis</div>
              <div rp-auto-zoom="rp-auto-zoom" rp-auto-zoom-ref=".amount" class="total"><span class="amount">{{ aggregateValueDisplayed }}</span><span ng-show="aggregateValueDisplayedDecimalDot" class="amountDot">.</span><span class="amountFraction">{{ aggregateValueDisplayedDecimal }}</span><span class="amountCurrency"> {{ selectedValueCurrencyShort }}</span></div>
              <div ng-show="hasNegative" class="desc">(exklusive negative Kontostände)</div>
            </div>
            <div ng-show="showWidgetNetworth &amp;&amp; !exchangeRatesNonempty" class="widget_loader"><img src="img/sections.png" class="loader"/></div>
          </div>
        </div>
        <div ng-hide="!loadingAccount &amp;&amp; !account.Balance &amp;&amp; loadState.account" class="widget widget-assetallocation">
          <h4 ng-click="showWidgetAssetAllocation=!showWidgetAssetAllocation" ng-init="showWidgetAssetAllocation=true"><span>Werte-Verteilung</span><i ng-class="{'closed': !showWidgetAssetAllocation}" class="fa fa-fw fa-caret-down"></i></h4>
          <div rp-slide="showWidgetAssetAllocation">
            <rp-pie-chart ng-class="{'blank': !exchangeRatesNonempty}" rp-size="200" rp-drops="account.Balance" rp-ious="balances" rp-exchange-rates="exchangeRates"></rp-pie-chart>
            <div ng-show="showWidgetAssetAllocation &amp;&amp; !exchangeRatesNonempty" class="widget_loader"><img src="img/sections.png" class="loader"/></div>
          </div>
        </div>
        <div class="widget widget-balances">
          <h4 ng-click="showWidgetBalances=!showWidgetBalances" ng-init="showWidgetBalances=true"><span>Guthaben</span><i ng-class="{'closed': !showWidgetBalances}" class="fa fa-fw fa-caret-down"></i></h4>
          <div rp-slide="showWidgetBalances">
            <ul ng-class="{'blank': !balances}" class="fa-ul">
              <li ng-click="entry.show=!entry.show" ng-init="entry.show=true" class="currency-xrp"><i class="fa-li fa-money"></i>
                <h5>XRP</h5>
                <div ng-show="account.Balance"><span rp-popover="rp-popover" rp-popover-placement="top" rp-popover-trigger="hover" rp-popover-delay="rp-popover-delay" rp-popover-content="Guthaben&lt;br&gt;{{ account.Balance | rpamount }} XRP" class="balance">{{ account.Balance | rpamount:{abs_precision: 4} }}</span></div>
                <div ng-hide="account.Balance">0.00</div>
                <dl rp-slide="entry.show">
                  <dt><span>Rücklage</span>&#32;<i rp-popover="rp-popover" rp-popover-placement="bottom" rp-popover-title="Reservebetrag" rp-popover-trigger="hover" data-content="Minimumbetrag an XRP, der zur Finanzierung Ihres Kontos benötigt wird. Sie können die Reserve nicht ausgeben." class="fa fa-question-circle"></i></dt>
                  <dd ng-show="account.reserve"><span rp-popover="rp-popover" rp-popover-placement="top" rp-popover-trigger="hover" rp-popover-delay="rp-popover-delay" rp-popover-content="Reservebetrag&lt;br&gt;{{ account.reserve | rpamount }} XRP" class="balance">{{ account.reserve | rpamount:{abs_precision: 4} }}</span></dd>
                  <dd ng-hide="account.reserve">0.00</dd>
                  <dt><span>Verfügbar</span>&#32;<i rp-popover="rp-popover" rp-popover-placement="bottom" rp-popover-title="Verfügbarer Betrag" rp-popover-trigger="hover" data-content="Gesamtbetrag an XRP in Ihrem Konto minus den Reservebetrag." class="fa fa-question-circle"></i></dt>
                  <dd ng-show="account.max_spend"><span rp-popover="rp-popover" rp-popover-placement="top" rp-popover-trigger="hover" rp-popover-delay="rp-popover-delay" rp-popover-content="Verfügbarer Betrag&lt;br&gt;{{ account.max_spend | rpamount }} XRP" class="balance">{{ account.max_spend | rpamount:{abs_precision: 4} }}</span></dd>
                  <dd ng-hide="account.max_spend">0.00</dd>
                </dl>
              </li>
              <li ng-repeat="entry in balances" ng-class="'currency-' + (entry.total | rpcurrency | lowercase)" ng-click="entry.show=!entry.show" ng-init="entry.show=true"><i ng-class="'fa-' + (entry.total | rpcurrency | lowercase)" class="fa-li fa-money"></i>
                <h5>{{ entry.total | rpcurrency }}</h5>
                <div><span rp-popover="rp-popover" rp-popover-placement="top" rp-popover-trigger="hover" rp-popover-delay="rp-popover-delay" rp-popover-content="Guthaben&lt;br&gt;{{ entry.total | rpamount:{precision: 30, hard_precision: true} }} {{ entry.total | rpcurrency }}" class="balance">{{ entry.total | rpamount:{tiny_precision: 3} }}</span></div>
                <dl rp-slide="entry.show">
                  <div ng-repeat="(issuer, component) in entry.components">
                    <dt ng-show="component.gateway.app"><span rp-address-popover="component.gateway.app">{{component.gateway.app.name}}</span></dt>
                    <dt ng-hide="component.gateway.app"><span rp-pretty-identity="issuer" rp-pretty-issuer-contacts="userBlob.data.contacts" rp-address-popover="issuer"></span></dt>
                    <dd><span rp-popover="rp-popover" rp-popover-placement="top" rp-popover-trigger="hover" rp-popover-delay="rp-popover-delay" rp-popover-content="Guthaben&lt;br&gt;{{ component | rpamount:{precision: 30, el_min_precision: -2, hard_precision: true} }} {{ entry.total | rpcurrency }}" class="balance">{{ component | rpamount:{tiny_precision: 3} }}</span></dd>
                  </div>
                </dl>
              </li>
            </ul>
            <p ng-show="$route.current.tabName == 'balance'"><a href="#/xrp" class="btn btn-cancel">Gateway hinzufügen</a></p>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-8">
        <div class="widget widget-markets">
          <h4 ng-click="showWidgetMarkets=!showWidgetMarkets" ng-init="showWidgetMarkets=true"><span>Märkte</span><i ng-class="{'closed': !showWidgetMarkets}" class="fa fa-fw fa-caret-down"></i></h4>
          <div rp-slide="showWidgetMarkets">
            <div class="row align-with-chart-y-axis">
              <div class="col-xs-9 col-md-5 col-lg-4">
                <div class="row">
                  <div class="col-xs-5">
                    <input type="text" rp-combobox="currencies" rp-combobox-select="rp-combobox-select" rp-combobox-small="rp-combobox-small" ng-pattern="validationPatternCurrency" ng-model="firstCurrencySelected" class="form-control"/>
                  </div>
                  <div class="col-xs-7">
                    <input type="text" ng-disabled="disableFirstIssuer" rp-combobox="firstIssuer" rp-combobox-select="rp-combobox-select" rp-combobox-small="rp-combobox-small" ng-model="firstIssuerSelected" class="form-control"/>
                  </div>
                </div>
              </div>
              <div class="col-xs-9 col-md-5 col-lg-4">
                <div class="row">
                  <div class="col-xs-5">
                    <input type="text" rp-combobox="currencies" rp-combobox-select="rp-combobox-select" rp-combobox-small="rp-combobox-small" ng-pattern="validationPatternCurrency" ng-model="secondCurrencySelected" class="form-control"/>
                  </div>
                  <div class="col-xs-7">
                    <input type="text" ng-disabled="disableSecondIssuer" rp-combobox="secondIssuer" rp-combobox-select="rp-combobox-select" rp-combobox-small="rp-combobox-small" ng-model="secondIssuerSelected" class="form-control"/>
                  </div>
                </div>
              </div>
              <div class="col-xs-3 col-md-2">
                <button ng-click="flipCurrencies() " class="btn flip btn-cancel btn-block">umschalten</button>
              </div>
            </div>
            <rp-market-chart base-currency="{{ firstCurrencySelected }}" base-currency-issuer="{{ issuerNameToAddress(firstIssuerSelected, firstCurrencySelected) }}" counter-currency="{{ secondCurrencySelected }}" counter-currency-issuer="{{ issuerNameToAddress(secondIssuerSelected, secondCurrencySelected) }}"></rp-market-chart>
          </div>
        </div>
        <div class="widget widget-orders">
          <h4 ng-click="showWidgetOrders=!showWidgetOrders" ng-init="showWidgetOrders=true"><span>Meine Order</span><i ng-class="{'closed': !showWidgetOrders}" class="fa fa-fw fa-caret-down"></i></h4>
          <div rp-slide="showWidgetOrders">
            <div class="rp-select hidden-md hidden-lg">
              <div ng-hide="!showWidgetOrders || isEmpty(offers)"><span>Sort by</span>
                <div class="rp-combobox rp-combobox-small orders-sort-select">
                  <input id="orders_sort_field" name="orders_sort_field" type="text" rp-combobox="ordersSortFieldChoices" rp-combobox-select="rp-combobox-select" rp-combobox-small="rp-combobox-small" ng-model="sortOptions.sortFieldName" class="currency form-control"/>
                </div>
              </div>
            </div>
            <div class="rp-checkbox hidden-md hidden-lg">
              <div ng-show="showWidgetOrders &amp;&amp; !isEmpty(offers)">
                <label>
                  <input type="checkbox" name="reverse" ng-model="sortOptions.reverse"/><span>umkehren</span>
                </label>
              </div>
            </div>
            <div ng-hide="isEmpty(offers)">
              <hr class="hidden-md hidden-lg"/>
            </div>
            <div ng-show="showWidgetOrders" class="listings offers">
              <div class="my">
                <div>
                  <div class="row head hidden-xs hidden-sm">
                    <div rp-sort-header="sortOptions.sortField" rp-sort-header-reverse="sortOptions.reverse" rp-sort-header-field="type" class="col-md-1 type"> <i class="fa fa-fw fa-caret-down"></i></div>
                    <div rp-sort-header="sortOptions.sortField" rp-sort-header-reverse="sortOptions.reverse" rp-sort-header-field="qty" class="col-md-3"><span>QTY</span><i class="fa fa-fw fa-caret-down"></i></div>
                    <div rp-sort-header="sortOptions.sortField" rp-sort-header-reverse="sortOptions.reverse" rp-sort-header-field="base" class="col-md-2"><span>Base</span><i class="fa fa-fw fa-caret-down"></i></div>
                    <div rp-sort-header="sortOptions.sortField" rp-sort-header-reverse="sortOptions.reverse" rp-sort-header-field="counter" class="col-md-3"><span>Counter</span><i class="fa fa-fw fa-caret-down"></i></div>
                    <div rp-sort-header="sortOptions.sortField" rp-sort-header-reverse="sortOptions.reverse" rp-sort-header-field="limit" class="col-md-3"><span>Limit Price</span><i class="fa fa-fw fa-caret-down"></i></div>
                  </div>
                </div>
                <div ng-repeat="entry in offers | rpcurrentpair:sortOptions.currentPairOnly:order.prev_settings | rpvalues | rpsortmyorders:sortOptions.sortField:sortOptions.reverse track by entry.seq" ng-hide="entry.isZero" class="row">
                  <div data-label="Type" class="col-md-1 type"><span class="rp-hidden-md rp-hidden-lg">{{entry.type | rpucfirst}}</span><span class="rp-hidden-xs rp-hidden-sm">{{entry.type | rptruncate:1}}</span></div>
                  <div data-label="QTY" rp-address-popover="rp-address-popover" rp-address-popover-sum="entry.first" class="col-md-3 amount rpamount">{{entry.first | rpamount:{hard_precision: true, precision: 6, tiny_precision: 6} }}</div>
                  <div data-label="BASE" class="col-md-2"><a href="#/trade/?first={{entry.first | rpcurrency}}.{{entry.first | rpissuer}}&amp;amp;second={{entry.second | rpcurrency}}.{{entry.second | rpissuer}}"><span>{{entry.first | rpcurrency}}</span><span ng-show="entry.first.issuer().to_json()" class="issuer">&#46;<span rp-pretty-issuer-or-short="entry.first.issuer().to_json" rp-pretty-issuer="entry.first.issuer().to_json()" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span></span></a></div>
                  <div data-label="Counter" class="col-md-3"><a href="#/trade/?first={{entry.first | rpcurrency}}.{{entry.first | rpissuer}}&amp;amp;second={{entry.second | rpcurrency}}.{{entry.second | rpissuer}}"><span>{{entry.second | rpcurrency}}</span><span ng-show="entry.second.issuer().to_json()" class="issuer">&#46;<span rp-pretty-issuer-or-short="entry.first.issuer().to_json" rp-pretty-issuer="entry.second.issuer().to_json()" rp-pretty-issuer-contacts="userBlob.data.contacts">???</span></span></a></div>
                  <div data-label="Limit" rp-address-popover="rp-address-popover" rp-address-popover-sum="entry.second | rpamountratio:entry.first" class="col-md-3 price rpamount">{{entry.second | rpamountratio:entry.first | rpamount:{hard_precision: true, precision: 6, tiny_precision: 6} }}</div>
                </div>
              </div>
              <div ng-show="isEmpty(offers)" class="emptyMessage">
                <p class="rp-base">Keine aktuellen Order. <a href="" ng-click="view_orders_history()">Orderverlauf anzeigen</a></p>
              </div>
            </div>
            <p ng-show="$route.current.tabName == 'balance'"><a href="#/trade" class="btn btn-cancel">Wechsel-Währungen</a></p>
          </div>
        </div>
      </div>
    </div>
  </group>
</section>